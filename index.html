<html ng-app="answerApp">
    <head>
        <style>
            .ng-cloak {
                display: none!important;
            }
        </style>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <link href="app.css" rel="stylesheet" />
    </head>
    <body class="ng-cloak" ng-cloak="">
        <div ng-controller="mainController">
            <div ng-show="loadingApp" class="loadingWrapper">
                <svg class="spinner" width="65px" height="65px" viewBox="0 0 66 66" xmlns="http://www.w3.org/2000/svg">
                   <circle class="path" fill="none" stroke-width="6" stroke-linecap="round" cx="33" cy="33" r="30"></circle>
                </svg>
            </div>
            <div ng-show="!loadingApp">
                <div class="questionBar">
                    <div class="container">
                        <h1 class="question">{{question}}?<a ng-show="!sending && !sent" ng-click="reload()" class="primaryButton pull-right material-icons">autorenew</a></h1>
                    </div>
                </div>
                <div class="container">
                    <textarea title="Type your answer..." class="answer" placeholder="Type your answer..." autofocus ng-maxlength="{{ maxLength }}" maxlength="{{ maxLength }}" ng-model="answer"></textarea>
                    <div ng-show="!sending && !sent" class="pull-right">
                        <span ng-show="answer.length" class="charsLeft" ng-class="{'info' : answer.length >= (maxLength - 30) , 'warning' : answer.length >= (maxLength-10) }">{{maxLength - answer.length}}</span>
                        <button ng-show="answer.length" ng-click="submitAnswer(answer)" ng-disabled="!answer.length || answer.length > maxLength" class="primaryButton submitButton material-icons">add</button>
                    </div>
                    <div ng-show="sending" class="pull-right fullWidth">
                        <svg ng-show="sending" class="spinner pull-right" style="position: relative; top: 0px; right: 2px;" width="65px" height="65px" viewBox="0 0 66 66" xmlns="http://www.w3.org/2000/svg">
                            <circle class="path" fill="none" stroke-width="6" stroke-linecap="round" cx="33" cy="33" r="30"></circle>
                        </svg>
                        <div ng-show="sent">
                            <span class="buttonLabel">Awesome! Fetching new question...</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
        <script src="answerApp.js"></script>
        <script src="mainController.js"></script>
        <script src="QAService.js"></script>
    </body>
</html>